<Page x:Class="CaptivePortalAssistant.Views.WebViewPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      NavigationCacheMode="Required"
      Loaded="Page_Loaded">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="48" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid Background="{ThemeResource SystemControlBackgroundChromeMediumBrush}">
            <Grid.Resources>
                <Style TargetType="AppBarButton">
                    <Setter Property="Width"
                            Value="48" />
                    <Setter Property="Height"
                            Value="48" />
                </Style>
            </Grid.Resources>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <StackPanel Orientation="Horizontal">
                <AppBarButton Icon="Back"
                              ToolTipService.ToolTip="Fill"
                              Click="BackButton_Click"
                              IsEnabled="{Binding CanGoBack, ElementName=MainWebView, Mode=OneWay}" />
                <AppBarButton Icon="Forward"
                              ToolTipService.ToolTip="Fill"
                              Click="ForwardButton_Click"
                              IsEnabled="{Binding CanGoForward, ElementName=MainWebView, Mode=OneWay}" />
                <AppBarButton x:Name="RefreshStopButton"
                              Icon="Refresh"
                              ToolTipService.ToolTip="Refresh or stop"
                              Click="RefreshStopButton_Click" />
            </StackPanel>
            <TextBox x:Name="AddressTextbox"
                     Grid.Column="1"
                     Margin="8,0"
                     VerticalAlignment="Center"
                     Padding="10,4,6,6"
                     BorderThickness="1"
                     KeyDown="AddressTextbox_KeyDown"
                     GotFocus="AddressTextbox_GotFocus"
                     LostFocus="AddressTextbox_LostFocus" />
            <StackPanel Orientation="Horizontal"
                        Grid.Column="2">
                <AppBarButton x:Name="FillButton"
                              ToolTipService.ToolTip="Auto fill"
                              Click="FillButton_Click"
                              LabelPosition="Collapsed">
                    <AppBarButton.Icon>
                        <FontIcon Glyph="&#xE8AC;" />
                    </AppBarButton.Icon>
                </AppBarButton>
                <AppBarButton x:Name="LoginButton"
                              ToolTipService.ToolTip="Auto fill and login"
                              Click="LoginButton_Click"
                              LabelPosition="Collapsed">
                    <AppBarButton.Icon>
                        <FontIcon Glyph="&#xE8D7;" />
                    </AppBarButton.Icon>
                </AppBarButton>
                <AppBarButton x:Name="SaveButton"
                              Icon="Save"
                              ToolTipService.ToolTip="Save form"
                              Click="SaveButton_Click"
                              LabelPosition="Collapsed" />
                <AppBarButton x:Name="SettingsButton"
                              Icon="Setting"
                              ToolTipService.ToolTip="Settings"
                              Click="SettingsButton_Click"
                              LabelPosition="Collapsed" />
            </StackPanel>
        </Grid>
        <ProgressBar x:Name="LoadingProgressBar"
                     Grid.Row="1"
                     VerticalAlignment="Top"
                     Canvas.ZIndex="1"
                     Background="Transparent"
                     IsHitTestVisible="False" />
        <WebView x:Name="MainWebView"
                 Grid.Row="1"
                 NavigationStarting="MainWebView_NavigationStarting"
                 NavigationCompleted="MainWebView_NavigationCompleted" />
    </Grid>
</Page>
